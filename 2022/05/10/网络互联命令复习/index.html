

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="网络互联命令 - 知识茧房                                                            var Fluid &#x3D; window.Fluid || {};     Fluid.ctx &#x3D; Object.assi">
<meta property="og:type" content="website">
<meta property="og:title" content="page.title">
<meta property="og:url" content="http://example.com/2022/05/10/%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94%E5%91%BD%E4%BB%A4%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="欢迎来到我的世界">
<meta property="og:description" content="网络互联命令 - 知识茧房                                                            var Fluid &#x3D; window.Fluid || {};     Fluid.ctx &#x3D; Object.assi">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/05/18/3kODo86EHL4CAVm.png">
<meta property="og:image" content="https://s2.loli.net/2022/05/18/xFUc5IksjNb1n9d.png">
<meta property="article:published_time" content="2023-01-15T04:14:11.726Z">
<meta property="article:modified_time" content="2022-08-25T08:32:44.000Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s2.loli.net/2022/05/18/3kODo86EHL4CAVm.png">
  
  
  
  <title>page.title - 欢迎来到我的世界</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 60vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="page.title"></span>
          
        </div>

        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      <div class="container nopadding-x-md">
        <div id="board"
          >
          
          <div class="container">
            <div class="row">
              <div class="col-12 col-md-10 m-auto">
                

<article class="page-content">
  

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="赵福东">
  <meta name="keywords" content="文档，照片，音乐，连接，网站">
  
    <meta name="description" content="网络互联基础命令">
<meta property="og:type" content="article">
<meta property="og:title" content="网络互联命令">
<meta property="og:url" content="http://example.com/2022/05/10/%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94%E5%91%BD%E4%BB%A4%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="知识茧房">
<meta property="og:description" content="网络互联基础命令">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/05/18/3kODo86EHL4CAVm.png">
<meta property="og:image" content="https://s2.loli.net/2022/05/18/xFUc5IksjNb1n9d.png">
<meta property="article:published_time" content="2022-05-10T02:20:09.697Z">
<meta property="article:modified_time" content="2022-05-29T10:59:55.015Z">
<meta property="article:author" content="赵福东">
<meta property="article:tag" content="文档，照片，音乐，连接，网站">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s2.loli.net/2022/05/18/3kODo86EHL4CAVm.png">
  
  
  
  <title>网络互联命令 - 知识茧房</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="网络互联命令"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-05-10 10:20" pubdate>
          2022年5月10日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.7k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          56 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">网络互联命令</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="实验一"><a href="#实验一" class="headerlink" title="实验一"></a>实验一</h2><p>1.用户视图到系统视图</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;Huawei&gt;</span><span class="hljs-attribute">sys</span><span class="hljs-meta"></span><br><span class="hljs-meta">[Huawei]</span><br></code></pre></td></tr></table></figure>
<p>2.系统视图到接口视图</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[Huawei]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span><br>[Huawei-GigabieEtherent0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure>
<p>3.配置接口的IP地址</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm">[Huawei-GigabieEtherent0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span>]<span class="hljs-built_in">ip</span> <span class="hljs-keyword">add</span> <span class="hljs-number">192</span>.<span class="hljs-number">20</span>.<span class="hljs-number">103</span>.<span class="hljs-number">1</span> <span class="hljs-number">24</span> <br></code></pre></td></tr></table></figure>
<p>[配置时要在地址后面加上子网掩码或子网掩码长度]<br>4.配置设备名称</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei]</span>sysname AR1<br></code></pre></td></tr></table></figure>
<p>[配置时sysname后加上要配置的设备名称]<br>5.查看系统时间</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">[Huawei]<span class="hljs-keyword">dis </span><span class="hljs-keyword">clock </span><br></code></pre></td></tr></table></figure>
<p>6.配置系统时间</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;huawei&gt;</span><span class="hljs-attribute">clock</span> datetime 时间 年-月-日<br></code></pre></td></tr></table></figure>
<p>7.查看版本信息</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stata">&lt;huawei&gt;<span class="hljs-keyword">dis</span> <span class="hljs-keyword">version</span><br></code></pre></td></tr></table></figure>
<p>8.查看当前配置</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;huawei&gt;dis <span class="hljs-keyword">current</span>-<span class="hljs-keyword">configuration</span> <br></code></pre></td></tr></table></figure>
<p>9.查看接口信息</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;huawei&gt;</span><span class="hljs-attribute">dis</span> int G0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>
<p>10.查看接口ip状态与配置信息</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-symbol">&lt;huawei&gt;</span>dis ip <span class="hljs-keyword">int</span> <span class="hljs-keyword">b</span><br></code></pre></td></tr></table></figure>
<p>11.配置telnet登陆<br>（1）password认证</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei]<span class="hljs-keyword">user</span>-<span class="hljs-type">int</span> vty <span class="hljs-number">0</span> <span class="hljs-number">4</span><br>[Huawei-ui-vty0<span class="hljs-number">-4</span>]authentication-mode <span class="hljs-keyword">password</span> <br>Please configure the <span class="hljs-keyword">login</span> <span class="hljs-keyword">password</span> (maximum length <span class="hljs-number">16</span>):<span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure>
<p>配置用户级别</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei]<span class="hljs-keyword">user</span>-<span class="hljs-type">int</span> vty <span class="hljs-number">0</span> <span class="hljs-number">4</span><br>[Huawei-ui-vty0<span class="hljs-number">-4</span>]<span class="hljs-keyword">user</span> privilege <span class="hljs-keyword">level</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>
<p> (2)aaa认证</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei]<span class="hljs-keyword">user</span>-<span class="hljs-type">int</span> vty <span class="hljs-number">0</span> <span class="hljs-number">4</span><br>[Huawei-ui-vty0<span class="hljs-number">-4</span>]authentication-mode aaa<br>[Huawei-ui-vty0<span class="hljs-number">-4</span>]quit <br>[Huawei] aaa <br>[Huawei-aaa]<span class="hljs-keyword">local</span>-<span class="hljs-keyword">user</span> zfd <span class="hljs-keyword">password</span> cipher <span class="hljs-number">123456</span><br><span class="hljs-keyword">Info</span>:<span class="hljs-keyword">Add</span> a <span class="hljs-built_in">new</span> <span class="hljs-keyword">user</span><br></code></pre></td></tr></table></figure>
<p>  设置用户级别</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">[Huawei-aaa]local-<span class="hljs-keyword">user</span> <span class="hljs-title">zfd</span> privilege level <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>
<h2 id="实验二"><a href="#实验二" class="headerlink" title="实验二"></a>实验二</h2><p>1.配置默认路由</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm">[Huawei]<span class="hljs-built_in">ip</span> router-static <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span> <span class="hljs-number">0</span> 下一跳/出接口的<span class="hljs-built_in">ip</span>地址<br></code></pre></td></tr></table></figure>
<p>2.配置静态路由</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm">[Huawei]<span class="hljs-built_in">ip</span> router-static 目的<span class="hljs-built_in">IP</span> 子网掩码 下一跳/出接口的<span class="hljs-built_in">ip</span>地址<br></code></pre></td></tr></table></figure>
<p>3.查看路由表</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stata">&lt;Huawei&gt;<span class="hljs-keyword">dis</span> ip routing-<span class="hljs-keyword">table</span> <br></code></pre></td></tr></table></figure>
<p>4.等价路由<br>目的IP相同，但是下一跳不同，且优先级相同。</p>
<h2 id="实验三"><a href="#实验三" class="headerlink" title="实验三"></a>实验三</h2><p>1.开启RIPV1协议</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei]</span>rip <br><span class="hljs-string">[Huawei-rip-1]</span><br></code></pre></td></tr></table></figure>
<p>2.公告与之相连的网段</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[Huawei-rip-1]</span>network ip-<span class="hljs-selector-tag">address</span><br><span class="hljs-selector-attr">[Huawei-rip-1]</span>network <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><br></code></pre></td></tr></table></figure>
<p>ip-address为与之相连的网段的网络号或IP地址，RIP优先级为100。<br>network 0.0.0.0命令用来在所有接口上使能RIP。<br>3.开启RIPV2协议</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-rip-1]</span>version <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>
<p>4.关闭RIP的自动汇聚功能</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[Huawei-rip-1]</span>undo <span class="hljs-selector-tag">summary</span> <br></code></pre></td></tr></table></figure>
<p>RIPV1协议中，自动聚合功能默认是打开的，且不能关闭；RIPV2支持关闭自动聚合。<br>RIPV2有一下优势：<br>（1）报文中携带掩码信息，支持VLSM（可变长子网掩码）和CIDR(Classless Inter-Domain Routing,无类域间路由)。<br>（2）支持组播路由发送更行报文，减少资源消耗。<br>（3）支持对协议报文进行验证，并提供明文验证和MD5验证两种方式，增强安全性。</p>
<h2 id="实验四ospf实验基础"><a href="#实验四ospf实验基础" class="headerlink" title="实验四ospf实验基础"></a>实验四ospf实验基础</h2><p>1.开启OSPF</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei]</span>ospf <br><span class="hljs-string">[Huawei-ospf-1]</span><br></code></pre></td></tr></table></figure>
<p>注：默认情况下ospf为1，在区分内外网时要处于不同的ospf中，但是区域可能相同。注意在网络连接中通常情况下路由器必须要有一个骨干区域。<br>2.公告网段</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[Huawei-ospf-1]</span>area <span class="hljs-number">0</span><br><span class="hljs-selector-attr">[Huawei-ospf-1-area-0.0.0.0]</span>network ip-<span class="hljs-selector-tag">address</span> wildcard-<span class="hljs-attribute">mask</span><br></code></pre></td></tr></table></figure>
<p>wildcard-mask 为通配符掩码，通常理解为子网掩码进行取反操作的结果。</p>
<h2 id="实验五OSPF高级配置"><a href="#实验五OSPF高级配置" class="headerlink" title="实验五OSPF高级配置"></a>实验五OSPF高级配置</h2><p>1.配置Router ID </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[Huawei]</span>int loopback <span class="hljs-number">0</span><br><span class="hljs-selector-attr">[Huawei-loopback-0]</span>ip <span class="hljs-selector-tag">address</span> <span class="hljs-selector-attr">[router-id]</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.255</span><br><span class="hljs-selector-attr">[Huawei-loopback-0]</span>quit<br><span class="hljs-selector-attr">[Huawei]</span>router id <span class="hljs-selector-attr">[router-id]</span><br><span class="hljs-selector-attr">[Huawei]</span>ospf <span class="hljs-number">1</span><br><span class="hljs-selector-attr">[Huawei-ospf-1]</span>area <span class="hljs-number">0</span><br><span class="hljs-selector-attr">[Huawei-ospf-1-area-0.0.0.0]</span>network <span class="hljs-selector-attr">[router-id]</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><br></code></pre></td></tr></table></figure>
<p>注：在配置Router-id的目的时为了选举DR与BDR。<br>2.配置OSPF接口的Cost值</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">[Huawei-g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]ospf cost value<br></code></pre></td></tr></table></figure>
<p>注：进入到g0&#x2F;0&#x2F;1接口下配置该接口的cost值。vlaue 为cost值。<br>3.启动手动汇总</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;Huawei&gt;sys<br><span class="hljs-selector-attr">[Huawei]</span>ospf <span class="hljs-number">1</span><br><span class="hljs-selector-attr">[Huawei-ospf-1]</span>area <span class="hljs-number">0</span><br><span class="hljs-selector-attr">[Huawei-ospf-1-area-0.0.0.0]</span>abr-<span class="hljs-selector-tag">summary</span> 汇总后网段 子网掩码或子网掩码长度<br></code></pre></td></tr></table></figure>
<p>注：以区域0为例，并且发布到area1区域中。<br>将OSPF区域0中的多条路由进行汇总并向其它区域发送。<br>4.rip中引入ospf命令</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-rip-1]</span><span class="hljs-keyword">import</span>-route ospf<br></code></pre></td></tr></table></figure>
<p>5.OSPF中引入RIP</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-ospf-1]</span><span class="hljs-keyword">import</span>-route rip<br></code></pre></td></tr></table></figure>
<p>6.各自引入直连路由</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-ospf-1]</span><span class="hljs-keyword">import</span>-route direct<br></code></pre></td></tr></table></figure>
<p>7.将Area2区域设置为stub区域</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[Huawei-ospf<span class="hljs-string">-1</span>-area<span class="hljs-string">-0</span>.0.0.2]stub<br></code></pre></td></tr></table></figure>
<p>stub区域(末梢区域)的ABR不允许注入第五类LSA,在这些区域中路由器的路由表规模及路由信息传递数量都会大大减少。因为没有第五类<br>LSA,因此第四类LSA也没有必要存在，所以同样也不会注入。在配置stub区域之后，为保证自治系统外的路由依旧可达，ABR会产生一条0.0.<br>0.0&#x2F;0的第三类LSA，发布到区域内的其他路由器上。<br>8.将Area1配置为Totally Stub区域</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[Huawei-ospf-1-area-0.0.0.1]</span>stub no-<span class="hljs-selector-tag">summary</span><br></code></pre></td></tr></table></figure>
<p>[若将该区域设置为Totally-Stub区域，该区域的ABR不会将区域间的路由信息和外部路由信息传递到本区域，同样地，ABR会重新产生一条0.0.0.0&#x2F;0的第三类LSA]</p>
<h2 id="实验六ACL配置"><a href="#实验六ACL配置" class="headerlink" title="实验六ACL配置"></a>实验六ACL配置</h2><p>1.基本ACL配置</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[Huawei]acl <span class="hljs-number">2000</span><br>[Huawei-acl-basic-<span class="hljs-number">2000</span>]rule [rule-id] &#123;deny|permit&#125; <span class="hljs-keyword">source</span> &#123;<span class="hljs-keyword">source</span>-addr sourc-wildcard|<span class="hljs-keyword">any</span>&#125;<br>[Huawei-GigabitEtherent0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]traffic-filter outbound acl <span class="hljs-number">2000</span><br></code></pre></td></tr></table></figure>
<p>[注：首先配置基本ACL，然后配置允许或阻止某个来源的IP地址，最后应用到接口上，收到方向或发出反向]<br>2.配置Telnet登陆<br>配置aaa模式或配置password认证<br>（1）password认证</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei]<span class="hljs-keyword">user</span>-<span class="hljs-type">int</span> vty <span class="hljs-number">0</span> <span class="hljs-number">4</span><br>[Huawei-ui-vty0<span class="hljs-number">-4</span>]authentication-mode <span class="hljs-keyword">password</span> <br>Please configure the <span class="hljs-keyword">login</span> <span class="hljs-keyword">password</span> (maximum length <span class="hljs-number">16</span>):<span class="hljs-number">123456</span><br>配置用户级别<br>[Huawei]<span class="hljs-keyword">user</span>-<span class="hljs-type">int</span> vty <span class="hljs-number">0</span> <span class="hljs-number">4</span><br>[Huawei-ui-vty0<span class="hljs-number">-4</span>]<span class="hljs-keyword">user</span> privilege <span class="hljs-keyword">level</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>
<p>（2）aaa认证</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei]<span class="hljs-keyword">user</span>-<span class="hljs-type">int</span> vty <span class="hljs-number">0</span> <span class="hljs-number">4</span><br>[Huawei-ui-vty0<span class="hljs-number">-4</span>]authentication-mode aaa<br>[Huawei]aaa<br>[Huawei-aaa]<span class="hljs-keyword">local</span>-<span class="hljs-keyword">user</span> zfd <span class="hljs-keyword">password</span> cipher <span class="hljs-number">123456</span><br><span class="hljs-keyword">Info</span>:<span class="hljs-keyword">Add</span> a <span class="hljs-built_in">new</span> <span class="hljs-keyword">user</span><br>[Huawei-aaa]<span class="hljs-keyword">local</span>-<span class="hljs-keyword">user</span> zfd privilege <span class="hljs-keyword">level</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>
<p>3.配置高级ACL</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs inform7"><span class="hljs-comment">[Huawei]</span>acl 3000<br><span class="hljs-comment">[Huawei-acl-adv-3000]</span><span class="hljs-keyword">rule</span> <span class="hljs-comment">[deny|permit]</span> 协议/端口号 source ip1地址 通配符掩码 destination ip2地址 通配符掩码<br></code></pre></td></tr></table></figure>
<p>4.FTP配置命令</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">[Huawei]ftp server enable <br><span class="hljs-literal">Inf</span>o:The FTP server is already enable <br>[Huawei]set default ftp-directory flash:<br>[Huawei]aaa <br>[Huawei-aaa]local-<span class="hljs-keyword">user</span> <span class="hljs-title">zfd</span> password cipher <span class="hljs-number">123456</span><br><span class="hljs-literal">Inf</span>o:Add a new <span class="hljs-keyword">user</span><br><span class="hljs-title">[Huawei-aaa</span>]local-<span class="hljs-keyword">user</span> <span class="hljs-title">zfd</span> service-<span class="hljs-keyword">type</span> ftp <br>[Huawei-aaa]local-<span class="hljs-keyword">user</span> <span class="hljs-title">zfd</span> ftp-directory flash:<br>[Huawei-aaa]local-<span class="hljs-keyword">user</span> <span class="hljs-title">zfd</span> privilege level <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>
<p>登陆时：ftp FTP服务器的IP地址。<br>5.配置高级ACL，只允许10.19.102.0&#x2F;24的网络内主机FTP到FTP服务器上</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[Huawei]acl <span class="hljs-number">3000</span> <br>[Huawei-acl-adv-<span class="hljs-number">3000</span>]rule permit tcp <span class="hljs-keyword">source</span> <span class="hljs-number">10.19</span>.<span class="hljs-number">102.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span> destination-port eq ftp <br>[Huawei-acl-adv-<span class="hljs-number">3000</span>]rule deny tcp <span class="hljs-keyword">source</span> <span class="hljs-keyword">any</span> <br>[Huawei]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span> <br>[Huawei-GigabitEtherent0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]traffic-filter inbound acl <span class="hljs-number">3000</span><br></code></pre></td></tr></table></figure>
<p>[注：最后应用到接口的入反向上]</p>
<h2 id="实验七网络地址转换"><a href="#实验七网络地址转换" class="headerlink" title="实验七网络地址转换"></a>实验七网络地址转换</h2><p>1.配置Basic NAT<br>例题：只允许192.20.代号.0&#x2F;24网段内主机访问外网，转换后的地址范围是：200.20.代号.3-200.20.代号.10</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-tag">&lt;Huawei&gt;</span>sys <br>[Huawei]nat address-<span class="hljs-keyword">group</span> <span class="hljs-title">1</span> <span class="hljs-number">200.20</span>.<span class="hljs-number">102.3</span> <span class="hljs-number">200.20</span>.<span class="hljs-number">102.10</span> <br>[Huawei]acl <span class="hljs-number">2000</span> <br>[Huawei-basic-<span class="hljs-number">2000</span>]<span class="hljs-keyword">rule</span> <span class="hljs-number">0</span> permit source <span class="hljs-number">192.20</span>.<span class="hljs-number">102.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span> <br>[Huawei-basic-<span class="hljs-number">2000</span>]<span class="hljs-keyword">rule</span> <span class="hljs-number">1</span> <span class="hljs-keyword">deny</span> source any <br>[Huawei]ing g <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">2</span><br>[Huawei-GigabitEtherent0/<span class="hljs-number">0</span>/<span class="hljs-number">2</span>]nat outbound <span class="hljs-number">2000</span> address-<span class="hljs-keyword">group</span> <span class="hljs-title">1</span> no-pat<br></code></pre></td></tr></table></figure>
<p>步骤：首先配置地址池；配置基本ACL；将基本ACL应用到接口上；最后配置Basic NAT，注意最后到no-pat,不做端口区分。[在最后检查时要检查有到达目的ip的路由吗，若没有则需要增加默认路由，以便能够ping通。]<br>查看NAT转换表：display nat session<br>2.NAPT的配置<br>与Basic NAT类似，就是将Basic NAt中的不做端口区分改为做端口区分</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">[Huawei-GigabitEtherent0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span>]undo nat outbound <span class="hljs-number">2000</span> address-<span class="hljs-keyword">group</span> <span class="hljs-title">1</span> no-pat<br>[Huawei-GigabitEtherent0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span>]nat outbound <span class="hljs-number">2000</span> address-<span class="hljs-keyword">group</span> <span class="hljs-title">1</span> <br></code></pre></td></tr></table></figure>
<p>若将Basic NAt转换为NAPT则需要先将Basic NAT关闭，在开启NAPT。<br>NAPT对数据包的IP地址、协议类型、传输层端口号同时进行转换，可以显著提高公有IP地址的利用效率。NAPT提供了公网地址复用的能力，<br>从而达到节约公网地址的效果。<br>3.EASY IP配置<br>EASY IP也称为基于端口的地址转换，工作原理与普通NAPT相同，对数据包的IP地址、协议类型、传输层端口号同时进行转换。但是EASY IP<br>直接使用对应的公网接口的IP地址作为转换后的源地址，即使用出接口的IP地址作为转换后的公网地址。适用于动态获得Internet或公网IP<br>地址的场合。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">[Huawei-GigabitEtherent0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]undo nat outbound <span class="hljs-number">2000</span> address-group <span class="hljs-number">1</span><br>[Huawei-GigabitEtherent0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]nat outbound <span class="hljs-number">2000</span>  <span class="hljs-comment">#最重要的</span><br></code></pre></td></tr></table></figure>
<p>前面与Basic NAT类似，也是需要配置ACL已达到允许或禁止某一设备访问的效果。但EASY IP无需配置地址池。<br>4.NAT Server<br>NAT Server特性：将私网地址&#x2F;端成口静态映射公网地址&#x2F;端口，以供公网客户端访问。在刚开始时就建立映射。<br>在配置NAT Server时，需要指定协议类型、公网IP地址和端口、私网IP和端口。</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs armasm">[Huawei-GigabitEtherent0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span>] nat server protocol pro-type <span class="hljs-meta">global</span> <span class="hljs-meta">global</span>-<span class="hljs-keyword">addr</span> [<span class="hljs-meta">global</span>-port] inside host-<span class="hljs-keyword">addr</span> <br>[host-port]<br></code></pre></td></tr></table></figure>
<p>例如：主机A是一台Telnet服务器。私网地址是10.0.0.1，由端口23提供Telnet服务，在RTA上为Host A静态映射公网地址198.76.28.10<br>和协议端口。<br>配置如下：</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[RTA]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span><br>[RTA-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]nat server protocol tcp global <span class="hljs-number">198.76</span>.<span class="hljs-number">28.11</span> telnet inside <span class="hljs-number">10.0</span>.<span class="hljs-number">0.1</span> telnet<br></code></pre></td></tr></table></figure>
<p>注意：在登陆时要登录到198.76.28.11上。注意不能与那个接口的地址相同，若相同则会报错，与接口地址冲突。只要将它改为和那个接口<br>处于同一网段上即可。</p>
<h2 id="实验八VLAN配置"><a href="#实验八VLAN配置" class="headerlink" title="实验八VLAN配置"></a>实验八VLAN配置</h2><p>1.配置access接口</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[Huawei]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span> <br>[Huawei-GigabitEtherent0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]port link-type access <br>[Huawei-GigabitEtherent0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]port <span class="hljs-keyword">default</span> vlan vlan-id<br></code></pre></td></tr></table></figure>
<p>注意：在配置接口vlan时要确保该交换机拥有该vlan，注意access接口只允许某一特定的vlan通过，因此要先规划好vlan，然后在进行配<br>置。access接口只能接收跟其本身PVID值一样的数据，若接收到的数据帧不带标签，则会给它打上与access接口形同的PVID。若要发送的数<br>据帧带有的标签和接口本身带有的标签的VLAN ID是否一致，若一致则去掉标签；若不同则将给数据帧丢弃掉。<br>2.配置trunk接口</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs LINUX">[Huawei]int g 0/0/0 <br>[Huawei-GigabitEtherent0/0/0]port link-type trunk <br>[Huawei-GigabitEtherent0/0/0]port trunk allow-pass vlan all <br></code></pre></td></tr></table></figure>
<p>注意：在配置trunk接口时要注意到他可以允许多个vlan通过，当接收到的数据帧的标签与PVID相同时标签不变进入到交换机中，不同时则<br>则保持原标签不变，若接收到的数据帧没有标签则会给它打上PVID的标签；当交换机发送帧时，若数据帧的标签与PVID相同时，出接口后则<br>会去除标签，若不同则保持原标签不变。<br>3.修改trunk接口的PVID<br>注意：access接口的PVID无法修改</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs LINUX">[Huawei]int g 0/0/0 <br>[Huawei-GigabitEtherent0/0/0]port trunk pvid vlan vlan-id<br></code></pre></td></tr></table></figure>
<p>[vlan-id为要修改的VLAN值]</p>
<h2 id="实验九单臂路由"><a href="#实验九单臂路由" class="headerlink" title="实验九单臂路由"></a>实验九单臂路由</h2><p>例题：<br><img src="https://s2.loli.net/2022/05/18/3kODo86EHL4CAVm.png" srcset="/img/loading.gif" lazyload alt="image.png"><br>在路由器AR1上的配置<br><img src="https://s2.loli.net/2022/05/18/xFUc5IksjNb1n9d.png" srcset="/img/loading.gif" lazyload alt="image.png"><br>注意：这些命令要在接口视图下进行配置，再配置子接口时要首先输入:dotlq termination vid vlan-id<br>[vlan-id]是该网段处于的vlan号,然后配置接口的的ip地址以及子网掩码最后要开启arp<br>命令：arp broadcast enable<br>在配置完成后要启用ospf协议将所直连的网段公告出去。一边实现全网的互通。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>网络互联命令</div>
      <div>http://example.com/2022/05/10/网络互联命令复习/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>赵福东</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年5月10日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/05/15/attack-bomb/" title="CSAPP实验-attack bomb">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CSAPP实验-attack bomb</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/04/12/csapp%E5%AE%9E%E9%AA%8C%E4%B8%89bomb/" title="CSAPP实验三bomb实验题解">
                        <span class="hidden-mobile">CSAPP实验三bomb实验题解</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>


  

</article>


  



  



  



  



  



  






              </div>
            </div>
          </div>
        </div>
      </div>
    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
